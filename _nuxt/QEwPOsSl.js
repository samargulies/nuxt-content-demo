import{A as L,v as M,aq as C,av as R,at as H,B as l,f as u,E as e,w as s,au as I,ar as U,as as W,aw as X,e as r,g as n,h as _,d as Y,F as Z,X as j,W as G,Z as J,a4 as K,D as w,t as b,ap as O,ax as Q,V as tt,ay as et}from"./BhJgDD_f.js";import{_ as at,a as st}from"./DDeBBcIW.js";import{_ as nt,a as ot,b as rt}from"./DZL05sZl.js";import"./C2bHYaEW.js";const ct={class:"text-muted"},it={class:"flex flex-wrap items-center gap-3 mt-4"},ft=L({__name:"[slug]",async setup(lt){var f,g,v;let a,c;const i=M(),{data:t}=([a,c]=C(()=>U(i.path,()=>W("posts").path(i.path).first(),"$n6r2E9lutY")),a=await a,c(),a);if(!t.value)throw R({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:m}=([a,c]=C(()=>U(`${i.path}-surround`,()=>X("posts",i.path,{fields:["description"]}))),a=await a,c(),a),d=((f=t.value.seo)==null?void 0:f.title)||t.value.title,p=((g=t.value.seo)==null?void 0:g.description)||t.value.description;return H({title:d,ogTitle:d,description:p,ogDescription:p}),(v=t.value.image)!=null&&v.src,(ut,y)=>{const B=O,S=K,D=G,A=at,P=nt,V=et,E=ot,N=st,q=rt,T=Q,z=I;return e(t)?(r(),l(z,{key:0},{default:s(()=>{var h,k,$,x;return[n(A,{title:e(t).title,description:e(t).description},{headline:s(()=>[n(B,w(e(t).badge,{variant:"subtle"}),null,16),y[0]||(y[0]=_("span",{class:"text-muted"},"Â·",-1)),_("time",ct,b(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:s(()=>[_("div",it,[(r(!0),Y(Z,null,j(e(t).authors,(o,F)=>(r(),l(D,{key:F,to:o.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:s(()=>[n(S,w({ref_for:!0},o.avatar,{alt:"Author avatar",size:"2xs"}),null,16),J(" "+b(o.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),n(T,null,tt({default:s(()=>[n(N,null,{default:s(()=>{var o;return[e(t)?(r(),l(P,{key:0,value:e(t)},null,8,["value"])):u("",!0),(o=e(m))!=null&&o.length?(r(),l(V,{key:1})):u("",!0),n(E,{surround:e(m)},null,8,["surround"])]}),_:1})]),_:2},[(x=($=(k=(h=e(t))==null?void 0:h.body)==null?void 0:k.toc)==null?void 0:$.links)!=null&&x.length?{name:"right",fn:s(()=>[n(q,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]}),_:1})):u("",!0)}}});export{ft as default};
